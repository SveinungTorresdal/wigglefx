var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,l,a;function u(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function f(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function d(t,e,n,s){if(t){const o=p(t,e,n,s);return t[0](o)}}function p(t,n,s,o){return t[1]&&o?e(s.ctx.slice(),t[1](o(n))):s.ctx}function $(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(t,e,n,s,o,c){if(o){const r=p(e,n,s,c);t.p(r,o)}}function g(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function b(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}function x(t,e,n){return t.set(n),e}function y(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function S(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function M(){return k(" ")}function T(){return k("")}function j(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)null==e[s]?t.removeAttribute(s):"style"===s?t.style.cssText=e[s]:"__value"===s?t.value=t[s]=e[s]:n[s]&&n[s].set?t[s]=e[s]:L(t,s,e[s])}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function E(){if(void 0===l){l=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){l=!0}}return l}function N(t){a=t}function W(){if(!a)throw new Error("Function called outside component initialization");return a}const z=[],C=[],F=[],I=[],B=Promise.resolve();let J=!1;function D(t){F.push(t)}const q=new Set;let P=0;function R(){const t=a;do{for(;P<z.length;){const t=z[P];P++,N(t),G(t.$$)}for(N(null),z.length=0,P=0;C.length;)C.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];q.has(e)||(q.add(e),e())}F.length=0}while(z.length);for(;I.length;)I.pop()();J=!1,q.clear(),N(t)}function G(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const K=new Set;let U;function Q(){U={r:0,c:[],p:U}}function V(){U.r||o(U.c),U=U.p}function X(t,e){t&&t.i&&(K.delete(t),t.i(e))}function Y(t,e,n,s){if(t&&t.o){if(K.has(t))return;K.add(t),U.c.push((()=>{K.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function Z(t){t&&t.c()}function tt(t,e,s,r){const{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,s),r||D((()=>{const e=l.map(n).filter(c);a?a.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(D)}function et(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(z.push(t),J||(J=!0,B.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(e,n,c,r,i,l,u,f=[-1]){const d=a;N(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:f,skip_bound:!1,root:n.target||d.$$.root};u&&u(p.root);let $=!1;if(p.ctx=c?c(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),$&&nt(e,t)),n})):[],p.update(),$=!0,o(p.before_update),p.fragment=!!r&&r(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(v)}else p.fragment&&p.fragment.c();n.intro&&X(e.$$.fragment),tt(e,n.target,n.anchor,n.customElement),R()}N(d)}class ot{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct=[];function rt(e,n=t){let s;const o=new Set;function c(t){if(r(e,t)&&(e=t,s)){const t=!ct.length;for(const t of o)t[1](),ct.push(t,e);if(t){for(let t=0;t<ct.length;t+=2)ct[t][0](ct[t+1]);ct.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,i=t){const l=[r,i];return o.add(l),1===o.size&&(s=n(c)||t),r(e),()=>{o.delete(l),0===o.size&&(s(),s=null)}}}}let it={w:1920,h:1080};const lt=localStorage.getItem("canvas");lt&&(it=JSON.parse(lt));const at=rt(it);function ut(n){let s,o,c=[{style:o=n[0]+n[1]},n[2]],r={};for(let t=0;t<c.length;t+=1)r=e(r,c[t]);return{c(){s=_("img"),O(s,r)},m(t,e){w(t,s,e)},p(t,[e]){O(s,r=function(t,e){const n={},s={},o={$$scope:1};let c=t.length;for(;c--;){const r=t[c],i=e[c];if(i){for(const t in r)t in i||(s[t]=1);for(const t in i)o[t]||(n[t]=i[t],o[t]=1);t[c]=i}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(c,[3&e&&o!==(o=t[0]+t[1])&&{style:o},t[2]]))},i:t,o:t,d(t){t&&v(s)}}}function ft(t,n,s){const o=["style","x","y","opacity"];let c,r=b(n,o),{style:i=""}=n,{x:l=0}=n,{y:a=0}=n,{opacity:u=1}=n,f=r;return t.$$set=t=>{n=e(e({},n),h(t)),s(6,r=b(n,o)),"style"in t&&s(0,i=t.style),"x"in t&&s(3,l=t.x),"y"in t&&s(4,a=t.y),"opacity"in t&&s(5,u=t.opacity)},t.$$.update=()=>{56&t.$$.dirty&&s(1,c=`left:${l}px; top:${a}px; opacity:${u}`)},[i,c,f,l,a,u]}at.subscribe((()=>localStorage.setItem("canvas",JSON.stringify(it))));class dt extends ot{constructor(t){super(),st(this,t,ft,ut,r,{style:0,x:3,y:4,opacity:5})}}function pt(t){let e,n,s;const o=t[11].default,c=d(o,t,t[10],null);return{c(){e=_("aside"),c&&c.c(),L(e,"class",n="position-absolute w-100 h-100 "+t[6])},m(t,n){w(t,e,n),c&&c.m(e,null),s=!0},p(t,e){c&&c.p&&(!s||1024&e)&&m(c,o,t,t[10],s?$(o,t[10],e,null):g(t[10]),null)},i(t){s||(X(c,t),s=!0)},o(t){Y(c,t),s=!1},d(t){t&&v(e),c&&c.d(t)}}}function $t(t){let e,n,s,o,c,r,i,l,a;o=new dt({props:{class:"border border-danger border-2 position-relative",src:"https://i.imgur.com/AWeJwfK.jpg",x:35,y:128}});let u=t[7]&&pt(t);return{c(){e=_("article"),n=_("main"),s=_("section"),Z(o.$$.fragment),i=M(),u&&u.c(),L(s,"class","position-absolute"),L(s,"style",t[4]),L(n,"id",c=t[1]+"-background"),L(n,"class","position-relative "+t[5]),L(n,"style",t[3]),D((()=>t[12].call(n))),L(e,"id",t[1]),L(e,"class",l="d-flex align-items-center justify-content-center overflow-hidden position-relative "+t[0])},m(c,l){w(c,e,l),y(e,n),y(n,s),tt(o,s,null),r=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const s=E();let o;return s?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=j(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{o=j(n.contentWindow,"resize",e)}),y(t,n),()=>{(s||o&&n.contentWindow)&&o(),v(n)}}(n,t[12].bind(n)),y(e,i),u&&u.m(e,null),a=!0},p(t,[o]){(!a||16&o)&&L(s,"style",t[4]),(!a||2&o&&c!==(c=t[1]+"-background"))&&L(n,"id",c),(!a||8&o)&&L(n,"style",t[3]),t[7]?u?(u.p(t,o),128&o&&X(u,1)):(u=pt(t),u.c(),X(u,1),u.m(e,null)):u&&(Q(),Y(u,1,1,(()=>{u=null})),V()),(!a||2&o)&&L(e,"id",t[1]),(!a||1&o&&l!==(l="d-flex align-items-center justify-content-center overflow-hidden position-relative "+t[0]))&&L(e,"class",l)},i(t){a||(X(o.$$.fragment,t),X(u),a=!0)},o(t){Y(o.$$.fragment,t),Y(u),a=!1},d(t){t&&v(e),et(o),r(),u&&u.d()}}}function mt(t,n,s){let o;f(t,at,(t=>s(9,o=t)));let{$$slots:c={},$$scope:r}=n;const i=function(t){const e={};for(const n in t)e[n]=!0;return e}(c);let l,a,u,d,{class:p}=n,$=n["canvas-class"],m=n["slot-class"],{id:g=Math.random().toString(36).substring(7)}=n;return t.$$set=t=>{s(13,n=e(e({},n),h(t))),"class"in t&&s(0,p=t.class),"id"in t&&s(1,g=t.id),"$$scope"in t&&s(10,r=t.$$scope)},t.$$.update=()=>{512&t.$$.dirty&&s(3,a=`aspect-ratio: ${o.w} / ${o.h}`),516&t.$$.dirty&&s(8,u=l/o.w),768&t.$$.dirty&&s(4,d=`width: ${o.w}px; height: ${o.h}px; transform-origin: top left; transform: scale(${u});`)},n=h(n),[p,g,l,a,d,$,m,i,u,o,r,c,function(){l=this.clientWidth,s(2,l)}]}class gt extends ot{constructor(t){super(),st(this,t,mt,$t,r,{class:0,id:1})}}const ht=Symbol("Accordion symbol"),bt=t=>({identifier:2&t}),xt=t=>({identifier:t[1]});function yt(t){let e,n,s;const o=t[3].default,c=d(o,t,t[2],xt);return{c(){e=_("div"),c&&c.c(),L(e,"class",n="accordion "+t[0]),L(e,"id",t[1])},m(t,n){w(t,e,n),c&&c.m(e,null),s=!0},p(t,[r]){c&&c.p&&(!s||6&r)&&m(c,o,t,t[2],s?$(o,t[2],r,bt):g(t[2]),xt),(!s||1&r&&n!==(n="accordion "+t[0]))&&L(e,"class",n),(!s||2&r)&&L(e,"id",t[1])},i(t){s||(X(c,t),s=!0)},o(t){Y(c,t),s=!1},d(t){t&&v(e),c&&c.d(t)}}}function wt(t,e,n){let{$$slots:s={},$$scope:o}=e,{class:c=""}=e,{id:r=Math.random().toString(36).substring(7)}=e;return function(t,e){W().$$.context.set(t,e)}(ht,{parentId:()=>r}),t.$$set=t=>{"class"in t&&n(0,c=t.class),"id"in t&&n(1,r=t.id),"$$scope"in t&&n(2,o=t.$$scope)},[c,r,o,s]}class vt extends ot{constructor(t){super(),st(this,t,wt,yt,r,{class:0,id:1})}}function St(t){let e,n,s;return{c(){e=_("i"),s=k("Â "),L(e,"class",n="bi bi-"+t[1])},m(t,n){w(t,e,n),w(t,s,n)},p(t,s){2&s&&n!==(n="bi bi-"+t[1])&&L(e,"class",n)},d(t){t&&v(e),t&&v(s)}}}function _t(t){let e,n,s,o,c,r,i,l,a,u,f,p,h,b,x,S,T,j=t[1]&&St(t);const O=t[7].default,A=d(O,t,t[6],null);return{c(){e=_("div"),n=_("h2"),s=_("button"),j&&j.c(),o=M(),c=k(t[3]),u=M(),f=_("div"),p=_("div"),A&&A.c(),L(s,"class",r="accordion-button "+(t[4]?"":"collapsed")),L(s,"type","button"),L(s,"data-bs-toggle","collapse"),L(s,"data-bs-target",i="#collapse-"+t[5]+"-"+t[2]),L(s,"aria-expanded",t[4]),L(s,"aria-controls",l="collapse-"+t[5]+"-"+t[2]),L(n,"class","accordion-header"),L(n,"id",a=t[5]+"-"+t[2]),L(p,"class",h="accordion-body "+t[0]),L(f,"id",b="collapse-"+t[5]+"-"+t[2]),L(f,"class",x="accordion-collapse collapse "+(t[4]?"show":"")),L(f,"aria-labelledby",S=t[5]+"-"+t[2]),L(f,"data-bs-parent","#"+t[5]),L(e,"class","accordion-item")},m(t,r){w(t,e,r),y(e,n),y(n,s),j&&j.m(s,null),y(s,o),y(s,c),y(e,u),y(e,f),y(f,p),A&&A.m(p,null),T=!0},p(t,[e]){t[1]?j?j.p(t,e):(j=St(t),j.c(),j.m(s,o)):j&&(j.d(1),j=null),(!T||8&e)&&H(c,t[3]),(!T||16&e&&r!==(r="accordion-button "+(t[4]?"":"collapsed")))&&L(s,"class",r),(!T||4&e&&i!==(i="#collapse-"+t[5]+"-"+t[2]))&&L(s,"data-bs-target",i),(!T||16&e)&&L(s,"aria-expanded",t[4]),(!T||4&e&&l!==(l="collapse-"+t[5]+"-"+t[2]))&&L(s,"aria-controls",l),(!T||4&e&&a!==(a=t[5]+"-"+t[2]))&&L(n,"id",a),A&&A.p&&(!T||64&e)&&m(A,O,t,t[6],T?$(O,t[6],e,null):g(t[6]),null),(!T||1&e&&h!==(h="accordion-body "+t[0]))&&L(p,"class",h),(!T||4&e&&b!==(b="collapse-"+t[5]+"-"+t[2]))&&L(f,"id",b),(!T||16&e&&x!==(x="accordion-collapse collapse "+(t[4]?"show":"")))&&L(f,"class",x),(!T||4&e&&S!==(S=t[5]+"-"+t[2]))&&L(f,"aria-labelledby",S)},i(t){T||(X(A,t),T=!0)},o(t){Y(A,t),T=!1},d(t){t&&v(e),j&&j.d(),A&&A.d(t)}}}function kt(t,e,n){let{$$slots:s={},$$scope:o}=e,{class:c=""}=e,{icon:r=""}=e,{id:i=Math.random().toString(36).substring(7)}=e,{title:l="Accordion item title"}=e,{shown:a=!1}=e;const{parentId:u}=function(t){return W().$$.context.get(t)}(ht),f=u();return t.$$set=t=>{"class"in t&&n(0,c=t.class),"icon"in t&&n(1,r=t.icon),"id"in t&&n(2,i=t.id),"title"in t&&n(3,l=t.title),"shown"in t&&n(4,a=t.shown),"$$scope"in t&&n(6,o=t.$$scope)},[c,r,i,l,a,f,o,s]}class Mt extends ot{constructor(t){super(),st(this,t,kt,_t,r,{class:0,icon:1,id:2,title:3,shown:4})}}function Tt(e){let n,s,c,r,i,l,a,u,f,d,p,$,m,g,h,b,x,S;return{c(){n=_("div"),s=_("div"),c=_("label"),c.textContent="Width of canvas",r=M(),i=_("div"),l=_("input"),a=M(),u=_("span"),u.textContent="px",f=M(),d=_("div"),p=_("label"),p.textContent="Height of canvas",$=M(),m=_("div"),g=_("input"),h=M(),b=_("span"),b.textContent="px",L(c,"for","canvas-config-width"),L(l,"id","canvas-config-width"),L(l,"type","text"),L(l,"class","form-control"),L(l,"placeholder","Width"),L(l,"aria-label","The width of the canvas"),L(u,"class","input-group-text"),L(i,"class","input-group"),L(s,"class","col-6"),L(p,"for","canvas-config-height"),L(g,"id","canvas-config-height"),L(g,"type","text"),L(g,"class","form-control"),L(g,"placeholder","Height"),L(g,"aria-label","The height of the canvas"),L(b,"class","input-group-text"),L(m,"class","input-group"),L(d,"class","col-6"),L(n,"class","row")},m(t,o){w(t,n,o),y(n,s),y(s,c),y(s,r),y(s,i),y(i,l),A(l,e[0].w),y(i,a),y(i,u),y(n,f),y(n,d),y(d,p),y(d,$),y(d,m),y(m,g),A(g,e[0].h),y(m,h),y(m,b),x||(S=[j(l,"input",e[1]),j(g,"input",e[2])],x=!0)},p(t,[e]){1&e&&l.value!==t[0].w&&A(l,t[0].w),1&e&&g.value!==t[0].h&&A(g,t[0].h)},i:t,o:t,d(t){t&&v(n),x=!1,o(S)}}}function jt(t,e,n){let s;return f(t,at,(t=>n(0,s=t))),[s,function(){s.w=this.value,at.set(s)},function(){s.h=this.value,at.set(s)}]}class Lt extends ot{constructor(t){super(),st(this,t,jt,Tt,r,{})}}let Ot={scene:void 0,scenes:[]};const Ht=localStorage.getItem("effect");Ht&&(Ot=JSON.parse(Ht));const At=rt(Ot);function Et(t){let e;return{c(){e=_("i"),L(e,"class","bi bi-bookmark")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function Nt(t){let e;return{c(){e=_("i"),L(e,"class","bi bi-bookmark-check-fill")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function Wt(t){let e,n,s,c,r,i,l,a,u;function f(t,e){return t[0].name===t[2].scene?.name?Nt:Et}let d=f(t),p=d(t);return{c(){e=_("nav"),n=_("div"),s=_("button"),p.c(),c=M(),r=_("button"),r.innerHTML='<i class="bi bi-pencil-square"></i>',i=M(),l=_("button"),l.innerHTML='<i class="bi bi-x-lg"></i>',L(s,"class","btn btn-light"),L(r,"class","btn btn-light"),L(n,"class","btn-group m-2"),L(n,"role","group"),L(n,"aria-label","Basic example"),L(l,"class","btn btn-danger m-2"),L(e,"class","d-flex flex-row justify-content-around m-1")},m(o,f){w(o,e,f),y(e,n),y(n,s),p.m(s,null),y(n,c),y(n,r),y(e,i),y(e,l),a||(u=[j(s,"click",t[3]),j(l,"click",t[4])],a=!0)},p(t,e){d!==(d=f(t))&&(p.d(1),p=d(t),p&&(p.c(),p.m(s,null)))},d(t){t&&v(e),p.d(),a=!1,o(u)}}}function zt(t){let e,n,s,o,c,r,i,l;return n=new gt({props:{id:t[1],class:"card-img-top w-100 m-0 p-2 bg-light","canvas-class":"bg-secondary w-100 h-auto rounded-1","slot-class":"d-flex flex-column justify-content-end align-items-center",$$slots:{default:[Wt]},$$scope:{ctx:t}}}),{c(){e=_("li"),Z(n.$$.fragment),s=M(),o=_("h5"),c=_("input"),L(c,"type","text"),c.readOnly=!0,L(c,"class","form-control-plaintext text-center"),L(c,"id",r=t[1]+"-name"),L(c,"placeholder","Scene name"),c.value=i=t[0]?.name||"Missing name",L(o,"class","px-4 py-0 m-0 bg-light"),L(e,"class","list-group-item p-0")},m(t,r){w(t,e,r),tt(n,e,null),y(e,s),y(e,o),y(o,c),l=!0},p(t,[e]){const s={};2&e&&(s.id=t[1]),37&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s),(!l||2&e&&r!==(r=t[1]+"-name"))&&L(c,"id",r),(!l||1&e&&i!==(i=t[0]?.name||"Missing name")&&c.value!==i)&&(c.value=i)},i(t){l||(X(n.$$.fragment,t),l=!0)},o(t){Y(n.$$.fragment,t),l=!1},d(t){t&&v(e),et(n)}}}function Ct(t,e,n){let s;f(t,At,(t=>n(2,s=t)));let{scene:o}=e,{id:c=Math.random().toString(36).substring(7)}=e;return t.$$set=t=>{"scene"in t&&n(0,o=t.scene),"id"in t&&n(1,c=t.id)},[o,c,s,()=>x(At,s.scene=s.scenes.find((t=>t.name===o.name)),s),()=>{var t;o.name===(null===(t=s.scene)||void 0===t?void 0:t.name)&&x(At,s.scene=void 0,s),x(At,s.scenes=s.scenes.filter((t=>t.name!==o.name)),s)}]}At.subscribe((()=>localStorage.setItem("effect",JSON.stringify(Ot))));class Ft extends ot{constructor(t){super(),st(this,t,Ct,zt,r,{scene:0,id:1})}}function It(t,e,n){const s=t.slice();return s[2]=e[n],s}function Bt(t){let e,n,s,o=t[0].scenes,c=[];for(let e=0;e<o.length;e+=1)c[e]=Jt(It(t,o,e));const r=t=>Y(c[t],1,1,(()=>{c[t]=null}));return{c(){e=_("div"),n=_("ul");for(let t=0;t<c.length;t+=1)c[t].c();L(n,"class","list-group list-group-flush"),L(e,"class","card mt-3")},m(t,o){w(t,e,o),y(e,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null);s=!0},p(t,e){if(1&e){let s;for(o=t[0].scenes,s=0;s<o.length;s+=1){const r=It(t,o,s);c[s]?(c[s].p(r,e),X(c[s],1)):(c[s]=Jt(r),c[s].c(),X(c[s],1),c[s].m(n,null))}for(Q(),s=o.length;s<c.length;s+=1)r(s);V()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)X(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Y(c[t]);s=!1},d(t){t&&v(e),S(c,t)}}}function Jt(t){let e,n;return e=new Ft({props:{scene:t[2]}}),{c(){Z(e.$$.fragment)},m(t,s){tt(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.scene=t[2]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Dt(t){let e,n,s,o,c,r,i=t[0].scenes.length&&Bt(t);return{c(){e=_("form"),e.innerHTML='<input name="sceneName" class="form-control" type="text" placeholder="Scene name" aria-label="Enter a scene name"/> \n    <button class="btn btn-success ms-3">Add</button>',n=M(),i&&i.c(),s=T(),L(e,"class","d-flex flex-row align-items-center")},m(l,a){var u;w(l,e,a),w(l,n,a),i&&i.m(l,a),w(l,s,a),o=!0,c||(r=j(e,"submit",(u=t[1],function(t){return t.preventDefault(),u.call(this,t)})),c=!0)},p(t,[e]){t[0].scenes.length?i?(i.p(t,e),1&e&&X(i,1)):(i=Bt(t),i.c(),X(i,1),i.m(s.parentNode,s)):i&&(Q(),Y(i,1,1,(()=>{i=null})),V())},i(t){o||(X(i),o=!0)},o(t){Y(i),o=!1},d(t){t&&v(e),t&&v(n),i&&i.d(t),t&&v(s),c=!1,r()}}}function qt(t,e,n){let s;f(t,At,(t=>n(0,s=t)));return[s,t=>{const e=new FormData(t.target),{sceneName:n}=Object.fromEntries(e.entries()),o={name:n.toString(),current:void 0,sceneitems:[]};x(At,s.scenes=[...s.scenes,o],s),x(At,s.scene=o,s)}]}class Pt extends ot{constructor(t){super(),st(this,t,qt,Dt,r,{})}}function Rt(t,e,n){const s=t.slice();return s[2]=e[n],s}function Gt(t){let e,n,s,o,c,r,i,l,a,f,d,p=t[2].filepath+"";return{c(){e=_("div"),n=M(),s=_("div"),o=_("main"),c=_("img"),i=M(),l=_("div"),a=_("p"),f=k(p),d=M(),L(e,"class","row"),u(c.src,r=t[2].file)||L(c,"src",r),L(o,"class","card-image-top bg-light border-bottom d-flex flex-row justify-content-center"),L(a,"class","card-text text-truncate"),L(l,"class","card-body"),L(s,"class","card")},m(t,r){w(t,e,r),w(t,n,r),w(t,s,r),y(s,o),y(o,c),y(s,i),y(s,l),y(l,a),y(a,f),y(s,d)},p(t,e){1&e&&!u(c.src,r=t[2].file)&&L(c,"src",r),1&e&&p!==(p=t[2].filepath+"")&&H(f,p)},d(t){t&&v(e),t&&v(n),t&&v(s)}}}function Kt(e){let n,s,o,c,r,i,l,a,u,f,d=e[0].scene?.sceneitems||[],p=[];for(let t=0;t<d.length;t+=1)p[t]=Gt(Rt(e,d,t));return{c(){n=_("form"),s=_("label"),s.textContent="Select file to add to scene.",o=M(),c=_("input"),r=M(),i=_("p"),i.innerHTML="<small>We use <strong>localstorage</strong> for all data; this limits us to ca 2.5-5 MB.</small>",l=M();for(let t=0;t<p.length;t+=1)p[t].c();a=T(),L(s,"for","sceneitemFile"),L(s,"class","form-label"),L(c,"class","form-control"),L(c,"type","file"),L(c,"id","sceneitemFile"),L(i,"class","alert alert-info mt-3"),L(i,"role","alert")},m(t,d){w(t,n,d),y(n,s),y(n,o),y(n,c),y(n,r),y(n,i),w(t,l,d);for(let e=0;e<p.length;e+=1)p[e].m(t,d);w(t,a,d),u||(f=j(c,"change",e[1]),u=!0)},p(t,[e]){if(1&e){let n;for(d=t[0].scene?.sceneitems||[],n=0;n<d.length;n+=1){const s=Rt(t,d,n);p[n]?p[n].p(s,e):(p[n]=Gt(s),p[n].c(),p[n].m(a.parentNode,a))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}},i:t,o:t,d(t){t&&v(n),t&&v(l),S(p,t),t&&v(a),u=!1,f()}}}function Ut(t,e,n){let s;f(t,At,(t=>n(0,s=t)));return[s,t=>{const[e]=t.target.files,n=new FileReader;n.addEventListener("load",(function(){let t={filepath:e.name,file:n.result.toString()};x(At,s.scene.sceneitems=[...s.scene.sceneitems,t],s)}),!1),e&&n.readAsDataURL(e)}]}class Qt extends ot{constructor(t){super(),st(this,t,Ut,Kt,r,{})}}function Vt(t){let e,n;return e=new Lt({}),{c(){Z(e.$$.fragment)},m(t,s){tt(e,t,s),n=!0},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Xt(t){let e,n;return e=new Pt({}),{c(){Z(e.$$.fragment)},m(t,s){tt(e,t,s),n=!0},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Yt(t){let e,n;return e=new Qt({}),{c(){Z(e.$$.fragment)},m(t,s){tt(e,t,s),n=!0},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Zt(t){let e,n,s;return{c(){e=_("label"),e.innerHTML="Load existing <strong>Wiggleâ¨Fx</strong> from JSON file.",n=M(),s=_("input"),L(e,"for","importFile"),L(e,"class","form-label"),L(s,"class","form-control"),L(s,"type","file"),L(s,"id","importFile")},m(t,o){w(t,e,o),w(t,n,o),w(t,s,o)},d(t){t&&v(e),t&&v(n),t&&v(s)}}}function te(t){let e,n,s;return{c(){e=_("p"),e.innerHTML="Save <strong>Wiggleâ¨Fx</strong> to JSON file.",n=M(),s=_("button"),s.textContent="Download",L(e,"class","mb-2"),L(s,"class","btn btn-success"),L(s,"id","exportFile")},m(t,o){w(t,e,o),w(t,n,o),w(t,s,o)},d(t){t&&v(e),t&&v(n),t&&v(s)}}}function ee(t){let e,n,s,o,c,r,i,l,a,u;return e=new Mt({props:{id:"canvas",title:"ð¨ Canvas",$$slots:{default:[Vt]},$$scope:{ctx:t}}}),s=new Mt({props:{id:"scene",title:"ð¬ Scene",shown:!0,$$slots:{default:[Xt]},$$scope:{ctx:t}}}),c=new Mt({props:{id:"sceneitems",title:"ðï¸ Objects",$$slots:{default:[Yt]},$$scope:{ctx:t}}}),i=new Mt({props:{id:"load",title:"ð Import",$$slots:{default:[Zt]},$$scope:{ctx:t}}}),a=new Mt({props:{id:"save",title:"ð¾ Download",$$slots:{default:[te]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),n=M(),Z(s.$$.fragment),o=M(),Z(c.$$.fragment),r=M(),Z(i.$$.fragment),l=M(),Z(a.$$.fragment)},m(t,f){tt(e,t,f),w(t,n,f),tt(s,t,f),w(t,o,f),tt(c,t,f),w(t,r,f),tt(i,t,f),w(t,l,f),tt(a,t,f),u=!0},p(t,n){const o={};2&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const r={};2&n&&(r.$$scope={dirty:n,ctx:t}),s.$set(r);const l={};2&n&&(l.$$scope={dirty:n,ctx:t}),c.$set(l);const u={};2&n&&(u.$$scope={dirty:n,ctx:t}),i.$set(u);const f={};2&n&&(f.$$scope={dirty:n,ctx:t}),a.$set(f)},i(t){u||(X(e.$$.fragment,t),X(s.$$.fragment,t),X(c.$$.fragment,t),X(i.$$.fragment,t),X(a.$$.fragment,t),u=!0)},o(t){Y(e.$$.fragment,t),Y(s.$$.fragment,t),Y(c.$$.fragment,t),Y(i.$$.fragment,t),Y(a.$$.fragment,t),u=!1},d(t){et(e,t),t&&v(n),et(s,t),t&&v(o),et(c,t),t&&v(r),et(i,t),t&&v(l),et(a,t)}}}function ne(t){let e,n,s,o,c,r,i,l;return r=new vt({props:{class:"accordion-flush",id:"wiggle-menu",$$slots:{default:[ee]},$$scope:{ctx:t}}}),{c(){e=_("aside"),n=_("h2"),n.textContent="Wiggleâ¨Fx",s=M(),o=_("p"),o.innerHTML='Got an OBS setup that needs way too many things on it? And you, for some reason, want to animate &#39;em? Look no further. \n        This is a product used to create animations, which can be dropped into <a href="https://github.com/SveinungTorresdal/utiliwiggle">Wiggleback</a>.',c=M(),Z(r.$$.fragment),L(e,"class",i="p-4 overflow-auto "+t[0])},m(t,i){w(t,e,i),y(e,n),y(e,s),y(e,o),y(e,c),tt(r,e,null),l=!0},p(t,[n]){const s={};2&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s),(!l||1&n&&i!==(i="p-4 overflow-auto "+t[0]))&&L(e,"class",i)},i(t){l||(X(r.$$.fragment,t),l=!0)},o(t){Y(r.$$.fragment,t),l=!1},d(t){t&&v(e),et(r)}}}function se(t,e,n){let{class:s=""}=e;return t.$$set=t=>{"class"in t&&n(0,s=t.class)},[s]}class oe extends ot{constructor(t){super(),st(this,t,se,ne,r,{class:0})}}function ce(t,e,n){const s=t.slice();return s[0]=e[n],s}function re(t){let e;return{c(){e=_("nav"),e.innerHTML='<div class="btn-group m-2" role="group" aria-label="Basic example"><button class="btn btn-light"><i class="bi bi-arrow-left-short"></i></button> \n                        <button class="btn btn-light"><i class="bi bi-bookmark"></i></button> \n                        <button class="btn btn-light"><i class="bi bi-arrow-right-short"></i></button></div> \n                    <button class="btn btn-danger m-2"><i class="bi bi-x-lg"></i></button>',L(e,"class","d-flex flex-row justify-content-around m-1")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function ie(t){let e,n,s;return n=new gt({props:{class:"m-0 border border rounded p-2 bg-light","canvas-class":"bg-secondary w-100 h-auto rounded-1","slot-class":"d-flex flex-column justify-content-end align-items-stretch",$$slots:{default:[re]},$$scope:{ctx:t}}}),{c(){e=_("div"),Z(n.$$.fragment),L(e,"class","col-2")},m(t,o){w(t,e,o),tt(n,e,null),s=!0},p(t,e){const s={};8&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){s||(X(n.$$.fragment,t),s=!0)},o(t){Y(n.$$.fragment,t),s=!1},d(t){t&&v(e),et(n)}}}function le(e){let n,s,o,c,r=[0,1,2],i=[];for(let t=0;t<3;t+=1)i[t]=ie(ce(e,r,t));return{c(){n=_("div");for(let t=0;t<3;t+=1)i[t].c();s=M(),o=_("div"),o.innerHTML='<button class="btn btn-outline-success"><i class="bi bi-plus-lg"></i></button>',L(o,"class","col-1 d-flex align-items-center justify-content-center"),L(n,"class","row flex-row justify-content-center align-items-center")},m(t,e){w(t,n,e);for(let t=0;t<3;t+=1)i[t].m(n,null);y(n,s),y(n,o),c=!0},p:t,i(t){if(!c){for(let t=0;t<3;t+=1)X(i[t]);c=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<3;t+=1)Y(i[t]);c=!1},d(t){t&&v(n),S(i,t)}}}function ae(t){let e,n;return e=new Mt({props:{id:"content",title:"ð¥ Timeline",$$slots:{default:[le]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,s){tt(e,t,s),n=!0},p(t,n){const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function ue(t){let e,n;return e=new vt({props:{class:"accordion-flush",id:"wiggle-timeline",$$slots:{default:[ae]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,s){tt(e,t,s),n=!0},p(t,[n]){const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}class fe extends ot{constructor(t){super(),st(this,t,null,ue,r,{})}}function de(e){let n,s,o,c,r,i,l,a,u,f,d;return r=new gt({props:{class:"flex-grow-1 mh-100 w-100 bg-light","canvas-class":"w-75 bg-secondary rounded"}}),l=new oe({props:{class:"w-25 border-start"}}),f=new fe({}),{c(){n=_("div"),s=_("nav"),s.innerHTML='<a class="navbar-brand" href=".">Wiggleâ¨Fx</a> \n\t\t<span>ð Check out <strong>Hozzerino</strong>;\n\t\t\t<a href="https://www.twitch.tv/hozzerino" class="btn btn-primary btn-sm"><i class="bi bi-twitch"></i></a> \n\t\t\t<a href="https://twitter.com/Hozzerino" class="btn btn-primary btn-sm"><i class="bi bi-twitter"></i></a></span>',o=M(),c=_("main"),Z(r.$$.fragment),i=M(),Z(l.$$.fragment),a=M(),u=_("footer"),Z(f.$$.fragment),L(s,"class","navbar navbar-light px-4 border-bottom"),L(c,"class","d-flex flex-row align-items-stretch flex-grow-1"),L(u,"class","border-top"),L(n,"id","wiggle-effects"),L(n,"class","min-vh-100 min-vw-100 d-flex flex-column")},m(t,e){w(t,n,e),y(n,s),y(n,o),y(n,c),tt(r,c,null),y(c,i),tt(l,c,null),y(n,a),y(n,u),tt(f,u,null),d=!0},p:t,i(t){d||(X(r.$$.fragment,t),X(l.$$.fragment,t),X(f.$$.fragment,t),d=!0)},o(t){Y(r.$$.fragment,t),Y(l.$$.fragment,t),Y(f.$$.fragment,t),d=!1},d(t){t&&v(n),et(r),et(l),et(f)}}}return new class extends ot{constructor(t){super(),st(this,t,null,de,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
